
// 请手动复制到internal/assembly/server.go文件中
func NewHttpServer() (server.HttpServer, func(), error) {
    // ...
    NewLeaveController,
}

// 请手动复制到internal/server/http.go文件中
type httpServer struct {
    // ...
    leaveCtr       controller.LeaveController
}


func NewHttpServer(
    // ...
    leaveCtr controller.LeaveController,
) HttpServer {
    return &httpServer{
        // ...
        leaveCtr:       leaveCtr,
    }
}

func (srv *httpServer) Register(router *gin.Engine) {
    // ...
    leaveRouter := v1Router.Group("/leave")
    {
        leaveRouter.POST("/create", srv.LeaveCreate())
        leaveRouter.POST("/update", srv.LeaveUpdate())
        leaveRouter.POST("/delete", srv.LeaveDelete())
        leaveRouter.GET("/select", srv.LeaveSelect())
    }
}

// 以下代码生成到http.go下方
func (srv *httpServer) LeaveCreate() gin.HandlerFunc {
	return func(c *gin.Context) {
		c.Negotiate(srv.leaveCtr.Create(c))
	}
}

func (srv *httpServer) LeaveUpdate() gin.HandlerFunc {
	return func(c *gin.Context) {
		c.Negotiate(srv.leaveCtr.Update(c))
	}
}

func (srv *httpServer) LeaveDelete() gin.HandlerFunc {
	return func(c *gin.Context) {
		c.Negotiate(srv.leaveCtr.Delete(c))
	}
}

func (srv *httpServer) LeaveSelect() gin.HandlerFunc {
	return func(c *gin.Context) {
		c.Negotiate(srv.leaveCtr.Select(c))
	}
}
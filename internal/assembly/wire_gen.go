// Code generated by Wire. DO NOT EDIT.

//go:generate go run github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package assembly

import (
	"github.com/go_example/internal/controller"
	"github.com/go_example/internal/repository/mysql"
	"github.com/go_example/internal/repository/redis"
	"github.com/go_example/internal/server"
	"github.com/go_example/internal/service"
)

// Injectors from controller.go:

func NewHelloController() (controller.HelloController, func(), error) {
	helloService, cleanup, err := NewHelloService()
	if err != nil {
		return nil, nil, err
	}
	helloController := controller.NewHelloController(helloService)
	return helloController, func() {
		cleanup()
	}, nil
}

func NewLoginController() (controller.LoginController, func(), error) {
	loginService, cleanup, err := NewLoginService()
	if err != nil {
		return nil, nil, err
	}
	loginController := controller.NewLoginController(loginService)
	return loginController, func() {
		cleanup()
	}, nil
}

func NewHomeController() (controller.HomeController, func(), error) {
	homeController := controller.NewHomeController()
	return homeController, func() {
	}, nil
}

// Injectors from server.go:

func NewHttpServer() (server.HttpServer, func(), error) {
	helloController, cleanup, err := NewHelloController()
	if err != nil {
		return nil, nil, err
	}
	loginController, cleanup2, err := NewLoginController()
	if err != nil {
		cleanup()
		return nil, nil, err
	}
	homeController, cleanup3, err := NewHomeController()
	if err != nil {
		cleanup2()
		cleanup()
		return nil, nil, err
	}
	httpServer := server.NewHttpServer(helloController, loginController, homeController)
	return httpServer, func() {
		cleanup3()
		cleanup2()
		cleanup()
	}, nil
}

// Injectors from service.go:

func NewHelloService() (service.HelloService, func(), error) {
	mysqlGroupClient, cleanup, err := NewMysqlGroupClient()
	if err != nil {
		return nil, nil, err
	}
	userRepository := mysql.NewUserRepository(mysqlGroupClient)
	redisGroupClient, cleanup2, err := NewRedisGroupClient()
	if err != nil {
		cleanup()
		return nil, nil, err
	}
	redisUserRepository := redis.NewUserRepository(redisGroupClient)
	helloService := service.NewHelloService(userRepository, redisUserRepository)
	return helloService, func() {
		cleanup2()
		cleanup()
	}, nil
}

func NewLoginService() (service.LoginService, func(), error) {
	mysqlGroupClient, cleanup, err := NewMysqlGroupClient()
	if err != nil {
		return nil, nil, err
	}
	userRepository := mysql.NewUserRepository(mysqlGroupClient)
	loginService := service.NewLoginService(userRepository)
	return loginService, func() {
		cleanup()
	}, nil
}
